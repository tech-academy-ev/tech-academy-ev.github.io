<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Price Prediction – Application of Statistical Methods | Data Science Project Guide: Airbnb</title>
  <meta name="description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Price Prediction – Application of Statistical Methods | Data Science Project Guide: Airbnb" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Price Prediction – Application of Statistical Methods | Data Science Project Guide: Airbnb" />
  
  <meta name="twitter:description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  

<meta name="author" content="TechAcademy e.V." />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory-data-analysis.html"/>
<link rel="next" href="exercise-checklist.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Airbnb Data Science Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="chapter" data-level="2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html"><i class="fa fa-check"></i><b>2</b> What’s Data Science and How Do I Do It?</a><ul>
<li class="chapter" data-level="2.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#whats-r"><i class="fa fa-check"></i><b>2.1</b> What’s R?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.1.1</b> RStudio Cloud</a></li>
<li class="chapter" data-level="2.1.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#curriculum"><i class="fa fa-check"></i><b>2.1.2</b> Curriculum</a></li>
<li class="chapter" data-level="2.1.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#helpful-links"><i class="fa fa-check"></i><b>2.1.3</b> Helpful Links</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#whats-python"><i class="fa fa-check"></i><b>2.2</b> What’s Python?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#anaconda-and-jupyter"><i class="fa fa-check"></i><b>2.2.1</b> Anaconda and Jupyter</a></li>
<li class="chapter" data-level="2.2.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#curriculum-1"><i class="fa fa-check"></i><b>2.2.2</b> Curriculum</a></li>
<li class="chapter" data-level="2.2.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#helpful-links-1"><i class="fa fa-check"></i><b>2.2.3</b> Helpful Links</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#your-data-science-project"><i class="fa fa-check"></i><b>2.3</b> Your Data Science Project</a><ul>
<li class="chapter" data-level="2.3.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#coding-meetups-and-requirements"><i class="fa fa-check"></i><b>2.3.1</b> Coding Meetups and Requirements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html"><i class="fa fa-check"></i><b>3</b> Introduction to Your Project</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#purpose-of-the-project-guide"><i class="fa fa-check"></i><b>3.1</b> Purpose of the Project Guide</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#what-is-this-project-about"><i class="fa fa-check"></i><b>3.2</b> What is this Project About?</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#exploratory-data-analysis-getting-to-know-the-data-set"><i class="fa fa-check"></i><b>3.3</b> Exploratory Data Analysis – Getting to Know the Data Set</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#prediction-apply-statistical-methods"><i class="fa fa-check"></i><b>3.4</b> Prediction – Apply Statistical Methods</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizing-apartment-availability"><i class="fa fa-check"></i><b>4.1</b> Visualizing Apartment Availability</a><ul>
<li class="chapter" data-level="4.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#import-clean-and-transform-the-data"><i class="fa fa-check"></i><b>4.1.1</b> Import, Clean and Transform the Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#days-lineplot"><i class="fa fa-check"></i><b>4.1.2</b> 365 Days Lineplot</a></li>
<li class="chapter" data-level="4.1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#calendar-plot"><i class="fa fa-check"></i><b>4.1.3</b> Calendar Plot</a></li>
</ul></li>
<<<<<<< HEAD
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-coefficient-and-plot"><i class="fa fa-check"></i><b>4.2</b> Correlation Coefficient and Plot</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualize-individual-airbnb-offers-with-the-listings-data-set"><i class="fa fa-check"></i><b>4.3</b> Visualize individual Airbnb Offers with the Listings Data Set</a></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#analyzing-number-of-reviews-per-neighborhood"><i class="fa fa-check"></i><b>4.4</b> Analyzing Number of Reviews per Neighborhood</a><ul>
=======
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-coefficient-and-plot-availability-price"><i class="fa fa-check"></i><b>4.2</b> Correlation Coefficient and Plot (availability &amp; price)</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualize-individual-airbnb-offers-with-the-listings-dataset"><i class="fa fa-check"></i><b>4.3</b> Visualize individual Airbnb offers with the listings dataset</a></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#analyzing-number-of-reviews-per-neighbourhood"><i class="fa fa-check"></i><b>4.4</b> Analyzing number of Reviews per Neighbourhood</a><ul>
>>>>>>> 080dec35cdc54f5d753c17571d1bfbe1222a9d4e
<li class="chapter" data-level="4.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#your-first-barplot"><i class="fa fa-check"></i><b>4.4.1</b> Your First Barplot</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualization-with-maps"><i class="fa fa-check"></i><b>4.5</b> Visualization with Maps</a></li>
<li class="chapter" data-level="4.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#surprise-us-with-at-least-one-more-plot"><i class="fa fa-check"></i><b>4.6</b> Surprise Us! (With At Least One More Plot)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="price-prediction-application-of-statistical-methods.html"><a href="price-prediction-application-of-statistical-methods.html"><i class="fa fa-check"></i><b>5</b> Price Prediction – Application of Statistical Methods</a><ul>
<li class="chapter" data-level="5.1" data-path="price-prediction-application-of-statistical-methods.html"><a href="price-prediction-application-of-statistical-methods.html#examine-correlation-between-the-variables-train"><i class="fa fa-check"></i><b>5.1</b> Examine Correlation Between the Variables (train)</a></li>
<li class="chapter" data-level="5.2" data-path="price-prediction-application-of-statistical-methods.html"><a href="price-prediction-application-of-statistical-methods.html#first-predictions-with-simple-regression-models-train"><i class="fa fa-check"></i><b>5.2</b> First Predictions with Simple Regression Models (train)</a></li>
<li class="chapter" data-level="5.3" data-path="price-prediction-application-of-statistical-methods.html"><a href="price-prediction-application-of-statistical-methods.html#from-training-to-testing-making-predictions"><i class="fa fa-check"></i><b>5.3</b> From Training to Testing – Making Predictions</a></li>
<li class="chapter" data-level="5.4" data-path="price-prediction-application-of-statistical-methods.html"><a href="price-prediction-application-of-statistical-methods.html#apply-advanced-machine-learning-algorithms"><i class="fa fa-check"></i><b>5.4</b> Apply Advanced Machine Learning Algorithms</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exercise-checklist.html"><a href="exercise-checklist.html"><i class="fa fa-check"></i><b>6</b> Exercise Checklist</a></li>
<li class="chapter" data-level="7" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html"><i class="fa fa-check"></i><b>7</b> What’s Next in Your Data Science Career?</a><ul>
<li class="chapter" data-level="7.1" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#data-science-in-general"><i class="fa fa-check"></i><b>7.1</b> Data Science in General</a><ul>
<li><a href="whats-next-in-your-data-science-career.html#version-control-with-git">Version Control with <span>Git</span></a></li>
<li><a href="whats-next-in-your-data-science-career.html#advice-for-non-traditional-data-scientists">Advice for <span>Non-Traditional Data Scientists</span></a></li>
<li><a href="whats-next-in-your-data-science-career.html#learn-from-great-data-scientists-on-kaggle">Learn from Great Data Scientists on <span>Kaggle</span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#r"><i class="fa fa-check"></i><b>7.2</b> R</a></li>
<li class="chapter" data-level="7.3" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#python"><i class="fa fa-check"></i><b>7.3</b> Python</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://tech-academy.io/" target="blank">&copy 2021 TechAcademy e.V.</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Project Guide: Airbnb</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="price-prediction-application-of-statistical-methods" class="section level1">
<h1><span class="header-section-number">5</span> Price Prediction – Application of Statistical Methods</h1>
<p>In the previous part you got a feel for the data set. You now know which variables are included and a few characteristic properties of the data set. But so far, we have only visualized the data set. In this section we go a step further and use statistical methods to predict the price of individual Airbnb apartments as accurately as possible.</p>
<p>In order to be able to compare your models at the end, we use a uniform metric according to which we can check the price predictions for accuracy. In our case this is the Root Mean Square Error (<span class="math inline">\(RMSE\)</span>), i.e. the root of the average squared difference between the predicted (<span class="math inline">\(\hat{y}_i\)</span>) and actual value (<span class="math inline">\(y_i\)</span>):</p>
<p><span class="math display">\[ RMSE = \sqrt{\frac{1}{N}\sum_{i=1}^{N}{(\hat{y}_i-y_i)^2}} \]</span></p>
<p>The closer the <span class="math inline">\(RMSE\)</span> is to 0, the better your model predicts prices. In the following, your goal is therefore to reduce the <span class="math inline">\(RMSE\)</span> of your various models as much as possible through continuous improvements.</p>
<p>We use the Airbnb listings data set, which contains features about apartments including prices. When we train our model with the data, we need to estimate how well our model predicts prices for listings it has never seen before. Therefore we split our data set into two parts - a train and a test set.</p>
<p>Here is a brief description of what you need each of the data sets for:</p>
<ul>
<<<<<<< HEAD
<li><p><em>train data</em> (70 %): You use this training data set to train your model. The model can learn the relationships between the variables based on the training data set that contains both, the variables needed to predict the prices and also the actual prices themselves.</p></li>
<li><p><em>test data</em> (30 %): With this test data set you can test how well your model predicts the price using data that has not been seen before. This will help you for example with recognizing under- or overfitting.</p></li>
</ul>
<div class="tips r">
<p>There are multiple ways to split/partition the data set in R. You could, e.g., use <code>createDataPartition()</code> function from {caret}, <code>sample.split()</code> function from {caTools} or — perhaps most intuitively — <code>split_train_test()</code> function from {healthcareai}.</p>
<p>Make sure, however, to include the <code>set.seed()</code> function in your R code before randomly dividing the data set into train/test parts. <code>set.seed()</code> function allows you to reproduce randomness each time you re-run your code. That means that you always get the same (random) result – a vital aspect of reproducibility within the scientific method.</p>
</div>
<div class="tipsp python">
<p>The sklearn library has a function that you can use to split the data set, correspondingly</p>
<pre><code>from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(...)</code></pre>
<p>Make sure to set the random seed parameter, such that the train and test data sets have the same values each time the method is called.</p>
</div>
<div id="examine-correlation-between-the-variables-train" class="section level2">
<h2><span class="header-section-number">5.1</span> Examine Correlation Between the Variables (train)</h2>
=======
<li><p><em>train.csv</em> (60 %): You use this training data set to train your model. The model can learn the relationships between the variables based on the training data set that contains both, the variables needed to predict the prices and also the actual prices themselves.</p></li>
<li><p><em>test.csv</em> (30 %): With this test data set you can test how well your model predicts the price using data that has not been seen before. This will help you for example with recognizing under- or overfitting.</p></li>
</ul>
<p>Note that some adjustments are necessary in these three data sets. For example, all price variables are marked with a $ sign. As before, we need to remove these in order to be able to transform the values to a numeric format. Always keep in mind that you have to apply all transformations to all three data sets, otherwise you will not be able to apply your trained model to the test and validation data sets.</p>
<div id="examine-the-correlation-between-the-variables-train" class="section level2">
<h2><span class="header-section-number">5.1</span> Examine the Correlation Between the Variables (train)</h2>
>>>>>>> 080dec35cdc54f5d753c17571d1bfbe1222a9d4e
<p>How are the individual variables related to each other? In other words, to what extent do the variables in the data set correlate with one another? Finding this out is extremely important for deciding which model specification to use later. A good place to start is to create a correlation matrix:</p>
<p><img src="plot/5_1_ggpairs.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="tips r">
<p>Use the <code>cor()</code> function from the {base} R to create a correlation matrix. Select all numerical variables in your data set with the help of <code>sapply()</code> or {dplyr}’s <code>select()</code> and create a correlation matrix.</p>
<p>Alternatively, use the <code>ggcorrplot()</code> from the same-name <a href="https://cran.r-project.org/package=ggcorrplot">{ggcorrplot}</a> package.</p>
<p>Check out <a href="http://jamesmarquezportfolio.com/correlation_matrices_in_r.html">this article</a> by James Marquez if you’re curious about other ways to create a correlation plot in R.</p>
</div>
<div class="tipsp python">
<p>A handy library for plotting correlation matrices is the seaborn library: <code>import seaborn as sns</code>.</p>
<p>Use its pairplot method and pass on the dataframe with the selected columns to visualize distributions and correlations.</p>
<p>Additionally, you may want to plot a heatmap with <code>sns.heatmap()</code> which makes it even easier to see correlations.</p>
</div>
<p>Which of your examined variables correlates most with price and which seems to be more independent from price? You now have a first impression over which variables could be important for your model. So let’s get to your first price prediction model!</p>
</div>
<div id="first-predictions-with-simple-regression-models-train" class="section level2">
<h2><span class="header-section-number">5.2</span> First Predictions with Simple Regression Models (train)</h2>
<p>Now you can make use of your statistical knowledge. You will need a method with which you can predict the price of an Airbnb apartment. A very simple first approach would be to use the average demand as the first prediction. However, this is almost certainly not the best prediction. In this case, your predicted price would be the same over all days and would ignore all factors that influence the price.</p>
<p>Ever heard of linear regression? That would be a much better approach. Now you can use your statistics skills. First set up a model with the dependent variable <code>price</code>. In the previous exercise you examined different variables. Now choose the variable with the highest correlation to price and use that as the only independent variable.</p>
<p>For example, your first regression model could look like this:</p>
<p><span class="math display">\[price_i = \beta_0 + \beta_1 bedrooms_i + \epsilon_i\]</span></p>
<div class="tips r">
<p>In <code>R</code> you can implement a simple linear regression with the function <code>lm()</code>. You then get the model summary with the <code>summary()</code> function.</p>
</div>
<div class="tipsp python">
<p>Define both dependent (y_train) and independent (X_train) variables and clean the data if necessary.</p>
<p>For the next step the X_train values need to be reshaped <code>.values.reshape(-1,1)</code>.
Note: If you use more then one feature you don’t have to reshape your data.</p>
<p>Import <code>LinearRegression()</code> from <code>sklear.linear_model</code> and train your model using <code>LinearRegression().fit()</code>.</p>
</div>
<p>Does your independent variable have a statistically significant impact on apartment price? Probably yes, because we selected the variable most correlated with price. However, if we stick to this very simplified model, we are making a typical mistake: the so-called Omitted Variable Bias (OVB). To put it simply, we neglect (in statistics jargon: “do not control for”) variables that have a significant influence on the dependent variable. One could suspect that other influencing factors also play a large role in price setting. If we do not include them, the estimate of the effect of <code>bedrooms</code>is biased and thus hardly useful. In our case this is not a big problem for the time being, since we are not interested in causal effects, but rather in the best possible prediction. Your statistics professor would almost certainly object to such a model. Nonetheless, with just a single explanatory variable, this model will not necessarily predict the price well.</p>
<p>One possible solution is to simply include the omitted variables in the model – how practical that these are already included in the data set. So let’s set up a somewhat more extensive model that includes one more variable:</p>
<p><span class="math display">\[price_i = \beta_0 + \beta_1 bedrooms_i + \beta_2 cleaning\_fee_i + \epsilon_i\]</span></p>
<p>Now compare the results of the two models. Does the larger model explain a higher proportion of the variance in price? In other words, which model shows the higher value for the <span class="math inline">\(R^2\)</span> measure?</p>
<div class="tips r">
<p>You can easily include such LaTeX tables in your RMarkdown document with the <code>stargazer</code> package:</p>
<p><img src="plot/5_table.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="tipsp python">
<p>Apply the <code>.summary()</code> method on the fitted model estimator.</p>
</div>
</div>
<div id="from-training-to-testing-making-predictions" class="section level2">
<h2><span class="header-section-number">5.3</span> From Training to Testing – Making Predictions</h2>
<p>You have now trained your first model with the training data set. But how well does the model handle data that it has not seen yet? This is a very important test to evaluate the quality of your model.</p>
<p>Has your model only “memorized” the existing patterns in the training data set?
Then the relationships from the training data set would not be transferable to the test data set. With so-called overfitting, the model was trained too closely to the training data set and therefore provides poor predictions for unknown data – for example the data in your test and validation data sets.</p>
<p>On the other hand, there is also the problem of underfitting: Your model has not sufficiently learned the actual relationships between the data and therefore makes poor predictions in the test data set. So it is important to find a balance between the two problems.</p>
<p>Now the distinction between training and test data sets becomes important. As a reminder: we use train data to train a model and the test data to ultimately test the quality of our model.</p>
<p>Now load the data set <code>test</code> in addition to the data set <code>train</code> that you have already used. In order to test your model on previously unseen data, you can apply the model to the test data set.</p>
<div class="tips r">
<p>Use the <code>predict</code> function for this:</p>
<p><code>predicted_price &lt;- predict(your_saved_model, your_test_data_frame)</code></p>
<p>You have now created a vector with all price predictions for the test data set. You can now compare this with the actual values for <code>price</code> from <code>test</code>.</p>
<p>In order to use a uniform comparison metric, please use the following function to measure your prediction accuracy:</p>
<pre><code># Function that returns Root Mean Squared Error while ignoring NAs
rmse &lt;- function(actual, predicted) {
sqrt(mean((predicted - actual)^2, na.rm = TRUE))
}</code></pre>
</div>
<div class="tipsp python">
<p>After training, import the data from the <code>test.csv</code> file, define both variables <code>X_test</code>and <code>y_test</code>, and create a vector with price predictions applying <code>.predict(X_test)</code> on your model. Store your prediction in the variable <code>predicted_price</code>.</p>
<p>Finally, compare your predicted values with the test values:</p>
<pre><code>from sklearn.metrics import mean_squared_error
# Function that returns Root Mean Squared Error while ignoring NaNs
rmse = mean_squared_error(y_test, predicted_price, squared=False)</code></pre>
</div>
<p>Now compare both regression models. Does the larger model have better prediction accuracy, i.e. a lower <span class="math inline">\(RMSE\)</span>? Now you have a benchmark for your more advanced models, which you can beat in the next part.</p>
</div>
<div id="apply-advanced-machine-learning-algorithms" class="section level2">
<h2><span class="header-section-number">5.4</span> Apply Advanced Machine Learning Algorithms</h2>
<p>Now that you have created and tested an initial prediction using a simple regression model, you can now apply more advanced methods. The goal is still to get the lowest possible <span class="math inline">\(RMSE\)</span> when applying the model to the test data set. Now look at at least one other algorithm and then see if that gives you a more accurate prediction (expressed as a lower <span class="math inline">\(RMSE\)</span>). You can find inspiration for this in the advanced DataCamp courses, which are listed at the beginning of the project guide. There are no limits for you – you can refine the regression using certain methods (e.g. LASSO) or set up a random forest model or a neural network. It is usually a good idea to briefly recall the functionality of the respective algorithms and to consider whether this methodology makes sense in this case with a continuous prediction variable.</p>
<p>At this point, a disclaimer is appropriate: Our data set has a substantial part of missing observations (<code>NA</code>) for many variables. Some machine learning algorithms require a complete set of data with no missing values, while others can do well with a smaller number. If you get into trouble about the missing values, check whether you can impute the missing values. Which method is best for imputation depends heavily on your prediction algorithm.</p>
<p>You can also get a noticeable gain in predictive power by modifying existing variables or generating new variables from the data set (“feature engineering”). For example, we could imagine that the distance from an apartment to the city center has a significant impact on the price. However, this variable is not
included in our data set. You can write a simple function that uses the two coordinate variables to calculate the distance to the center of Berlin and appends this to the data set as a new variable.</p>
<p>Always compare the <span class="math inline">\(RMSE\)</span> of your advanced models with each other, as well as with the benchmark regression model from before.</p>
<p>Congratulations! You’ve made it to the end of your TechAcademy Data Science project. After visualizing the data in the first part, you’ve also set up predictive models in this section. If you stuck around until this part and managed to code the better part of the exercises, you’ve definitely earned your certificate! We hope you had fun learning Data Science with this data set and you enjoyed it – at least the parts where you didn’t get stuck forever because of some unexplainable coding error. Don’t forget to send your project results and the prediction-csv file you just generated to our project submission email address before the deadline.</p>

<div style="page-break-after: always;"></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-checklist.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["airbnb.pdf", "airbnb.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"download": "pdf"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
